---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* ==========================================================================
   学术主页样式定制 - 修正版
   ========================================================================== */

/* 1. 全局正文与排版设置 */
body {
  font-family: "Avenir", sans-serif !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;           
  text-align: justify !important;         
  text-justify: inter-word;
  -webkit-font-smoothing: antialiased;    
}

/* 2. 段落与列表细节 */
p {
  margin-bottom: 1em !important;          
  hyphens: auto;                          
  -webkit-hyphens: auto;
}

li {
  text-align: justify !important;         
}

/* 3. 顶部导航与个人品牌 (Lepeng Huang) */
.site-title {
  font-family: "Arial", sans-serif !important;
  font-weight: 850 !important;            /* 左上角姓名：特粗 */
}

.masthead__menu-item a {
  font-family: "Arial", sans-serif !important;
  font-weight: 700 !important;            /* 导航标签：加粗 */
}

/* 4. 正文标题层级优化 */
h1, h2, h3, h4, h5, h6 {
  font-family: "Avenir", sans-serif !important;
}

/* 修正了 1.1em 的空格，并根据你的注释建议微调了 h1 的层级 */
h1 {
  font-size: 1.4em !important;            /* 按照注释改为 2 倍大 */
  font-weight: 800 !important;            /* 按照注释改为 800 */
}

h2 {
  font-size: 1.25em !important;            /* 按照注释改为 1.5 倍大 */
  font-weight: 600 !important;            
}

h3, h4, h5, h6 {
  font-size: 1.1em !important;            /* 修正空格错误 */
  font-weight: 500 !important;            
}

/* 5. 侧边栏与特定区域字体同步 */
/* 整合了所有侧边栏选择器，确保 Avenir 字体完整覆盖 */
.sidebar, 
.masthead, 
.archive,
.author__content, 
.author__urls, 
.author__urls a, 
.author__urls-wrapper li {
  font-family: "Avenir", Helvetica, Arial, sans-serif !important;
  font-weight: 400 !important; 
  color: inherit !important;              /* 解决颜色浅导致的视觉变细问题 */
  -webkit-font-smoothing: antialiased;
}

/* 专门收紧列表间距，使其与 1.5 行高的正文匹配 */
.page__content li, 
.archive li {
  margin-bottom: 0.1em !important; /* 默认通常是 0.5em，调小可以显著收紧 */
  margin-top: 0 !important;
}

/* 如果你的列表项内部被自动包裹了 <p> 标签，也需要取消其边距 */
.page__content li p {
  margin-bottom: 0 !important;
  margin-top: 0 !important;
}

/* 针对 Research Interests 下的嵌套缩进列表进行微调 */
.page__content li > ul {
  margin-top: 0 !important;
  margin-bottom: 0.2em !important;
}






/* 7. 导航栏终极对齐 - 严选模式 */

/* 1. 强制最外层容器不再限制宽度，允许背景铺满，但内容居中 */
.masthead {
  padding: 0 !important;
  border-bottom: 1px solid var(--global-border-color);
}

.masthead__inner-navigation {
  /* 严格同步 page.scss 中 #main 的逻辑 */
  max-width: 1440px !important; /* 稍微调大以适应你的宽屏全屏需求 */
  margin-left: auto !important;
  margin-right: auto !important;
  
  /* 左右边距必须与 #main 的 1em 保持绝对一致 */
  padding-left: 1em !important; 
  padding-right: 1em !important;

  /* 使用 flex 布局实现两端对齐，但不改变内部菜单性质 */
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

/* 2. 强制显示桌面端菜单，隐藏移动端“三道杠” */
.masthead__menu-toggle {
  display: none !important; /* 彻底删掉那个烦人的三道杠 */
}

.masthead__menu {
  display: block !important; /* 恢复菜单容器的基本显示 */
  float: none !important;    /* 彻底清除浮动干扰 */
}

/* 3. 确保菜单链接横向排列且右对齐 */
ul.visible-links {
  display: flex !important;
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
  align-items: center !important;
}

.masthead__menu-item {
  display: inline-block !important;
  margin-left: 1.5rem !important; /* 链接之间的间距 */
}

/* 4. 解决图标（图3）右对齐问题 */
/* 确保最后一个项目（通常是调色标）没有任何右边距，紧贴对齐线 */
.masthead__menu-item:last-child {
  margin-right: 0 !important;
  padding-right: 0 !important;
}

/* 5. 确保左侧姓名紧贴对齐线 */
.site-title {
  padding-left: 0 !important;
  margin-left: 0 !important;
}
